<html>

<head>
	 <meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="./Debate.css">
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

</head>

<body>

	<div id = "event-title">
		<div id = "event_left">a1</div>
		<div id = "event_right">b2</div>
	</div>

  <div id="container_main">
	<div id="container_left_pain" data-bind="css: left_column_css_class">
	   <div id="video_area">
	   </div>
	</div>

<!-- ko if:center_column_existence -->

	<div id="container_center_pain" data-bind="css: center_column_css_class">
		<div id="group_hangout_button"></div>
		<div id="chat_window" align="center">
			<textarea style="width:98%; margin-top:5px" placeholder="message to partner"></textarea>
			<div align="right"><button style="margin:3px; margin-right:10px">send</button></div>
			<div style="width:98%; height:500px; border:double; margin:2px; background-color: #FFFFFF" align="left" > message window
			</div>
		</div>
	</div>

<!-- /ko -->
	<div id="container_right_pain" data-bind="css: right_column_css_class">
		<div id="right-top-pain"><div id="participant_table"></div></div>
		<div id="right-middle-pain">g</div>
	</div>
  </div>






<script type="text/template" data-template="video_area_template">

  <div id="speach_role_timer" data-bind="visible: speech_visible" style="display:none">a</div>
  <div data-bind="text:speech_role" style="float:left"></div>
  <div data-bind="text:speaker_name" style="float:left"></div>
  <div data-bind="text:speech_time" style="float:right"></div>
  <div data-bind="visible: normal_buttons">
	<button data-bind="visible: complete_speech_button, event:{click:click_complete_speech}">Complete Speech</button>
	<button data-bind="visible: poi_button, event:{click:click_poi}"> Poi</button>
	<button data-bind="visible: finish_poi_button, event:{click:finish_poi}">Finish Poi</button>
	<button data-bind="visible: finish_poi_bySpeaker_button, event:{click:finish_poi_bySpeaker}">Finish Poi</button>
  </div>
  <div data-bind="visible: start_speech">
	<ul data-bind="foreach: role_name_array">
	 <li>
	   <div>
	   　 	<button data-bind="click:$parent.click_speech_start, text:button_role_name"></button>
	   <div>
	  </li>
	</ul> 
  </div>
  <div data-bind="visible: poi_candidate_visible">
	<ul data-bind="foreach: poi_candidate_view_array"　style="list-style-type:none;">
	  <li style="clear:left">
	   <div style="padding:2px">
	      <div class="profile_container" style="float:left">
	     	 <img style="float:left; max-width:50px" data-bind="attr: {src: img_url}">
	   　 	 <div style="float:left" data-bind = "text:name" ></div>
	      </div>
		  <button data-bind="visible: PoiTake_button_visible, click:$parent.take_poi" style = "display:none; float:left"> take poi</button>
	   　   <button data-bind="visible: cancel_button_visible" style = "display:none; float:left">cancel poi</button> 
	   </div>
	  </li>
	</ul>
  </div>
</script>







<script type="text/template" data-template="NA_Template">
  <table class='table table-bordered'>
   <thead><tr><th>Government</th><th>Opposition</th></tr></thead>
   <tbody>
   <tr><td><div id='PM_Container' data-bind="template: {name: 'user_status_template'}"></div></td>
   <td><div id='LO_Container' data-bind="template: {name: 'user_status_template'}"></div></td></tr>
   <tr><td><div id='MG_Container' data-bind="template: {name: 'user_status_template'}"></div></td>
   <td><div id='MO_Container'  data-bind="template: {name: 'user_status_template'}"></div></td></tr>
   <tr><td><div id='PMR_Container'  data-bind="template: {name: 'user_status_template'}"></div></td>
   <td><div id='LOR_Container'  data-bind="template: {name: 'user_status_template'}"></div></td></tr>
   </tbody>
  </table>
  <div id="Audience"></div>
</script>


<script type="text/template" data-template="Asian_Template">
  <table class='table table-bordered'>
   <thead><tr><th>Proposition</th><th>Opposition</th></tr></thead>
   <tbody>
   <tr><td><div id='PM_Container' data-bind="template: {name: 'user_status_template'}"></div></td>
       <td><div id='LO_Container' data-bind="template: {name: 'user_status_template'}"></div></td></tr>
   <tr><td><div id='DPM_Container' data-bind="template: {name: 'user_status_template'}"></div></td>
       <td><div id='DLO_Container' data-bind="template: {name: 'user_status_template'}"></div></td></tr>
   <tr><td><div id='GW_Container' data-bind="template: {name: 'user_status_template'}"></div></td>
        <td><div id='OW_Container' data-bind="template: {name: 'user_status_template'}"></div></td></tr>
   <tr><td><div id='GR_Container'  data-bind="template: {name: 'user_status_template'}"></div></td>
       <td><div id='OR_Container'  data-bind="template: {name: 'user_status_template'}"></div></td></tr>
   </tbody>
  </table>
  <div id="Audience"></div>
</script>


<script type="text/template" data-template="BP_Template">
  <table class='table table-bordered'>
   <thead><tr><th>OpeningGovernment</th><th>OpeningOpposition</th></tr></thead>
   <tbody>
   <tr><td><div id='PM_Container'></div></td><td><div id='LO_Container'></div></td></tr>
   <tr><td><div id='DPM_Container'></div></td><td><div id='DLO_Container'></div></td></tr>
   </tbody>
   <thead><tr><th>ClosintGovernment</th><th>ClosingOpposition</th></tr></thead>
   <tbody>
   <tr><td><div id='MG_Container'></div></td><td><div id='MO_Container'></div></td></tr>
   <tr><td><div id='GW_Container'></div></td><td><div id='OW_Container'></div></td></tr>
   </tbody>
  </table>
  <div id="Audience"></div>
</script>





<script type="text/html" id="user_status_template">
     <div data-bind="css: user_status_css">
        <img style="max-width:50px; float:left" data-bind="attr: {src: pict_src}">
        <div style="float:right; line-height: 1px">
         <p data-bind ="text:role"></p>
         <p data-bind ="text:user_name"></p>
        </div>
        <div style="clear:both" align="center" data-bind = "visible:enable_change">
          <button data-bind = "visible: decline_visible, event:{click:decline}">decline</button>
          <button data-bind = "visible: join_visible, event:{click:join}">join</button>
        </div>
     </div>
</script>



<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.3.0/knockout-min.js"></script>

<script type="text/javascript" src="./Video_Mgr.js"></script>
<script type="text/javascript" src="./MainContainerAppViewModel.js"></script>
<script type="text/javascript" src="./AppMgr.js"></script>
<script type="text/javascript" src="./ParticipantMgr.js"></script>
<script type="text/javascript" src="./Participant_TableMgr.js"></script>
<script type="text/javascript" src="./UserStatus_VM.js"></script>




<script type="text/javascript">

 var container_modelview = new ContainerMainAppViewModel();
 ko.applyBindings(container_modelview);
 var appmgr = new AppMgr();
 appmgr.initialize();
</script>



<script type="text/javascript">
	function change_column(){

		var current_column = container_modelview.left_column_css_class();
		if(current_column == "three_Column_left_pain"){
			container_modelview.construct_two_column();
		}else{
			container_modelview.construct_three_column();
		}
	}

	function get_role(){
	  var particpant_array = appmgr.participant_manager_object.get_role_array("hangout_XXX2");
	  console.log(particpant_array);
	}
	function getUserFullName(){
	  var name = appmgr.participant_manager_object.getUserFirstName("ReplyPM");
	  console.log(name);
	  var full_name = appmgr.participant_manager_object.getUserFullName("ReplyPM");
	  console.log(full_name );

	  var pict_src = appmgr.participant_manager_object.getUserPictureSrc("ReplyPM");
	  console.log(pict_src ); 
	}
	function check_isdebate_yourself(){
		var check = appmgr.participant_manager_object.isDebater_yourself();
		console.log(check);
	}
	function get_own_role_array(){
		var myrole_array = appmgr.participant_manager_object.get_own_role_array();
		console.log(myrole_array);
	}

	function isYourPartner(){
		var ispartner_flag = appmgr.participant_manager_object.isYourPartner("hangout_XXX4");
		console.log(ispartner_flag);
	}


	function update_game_status(){
		appmgr.update_game_status(5);
	}

</script>


	<button onclick = "change_column()">aaa</button>
	<button onclick = "get_role()">get_role</button>
	<br>
	<button onclick = "getUserFullName()">getUserFullName</button>
	<br>
	<button onclick = "check_isdebate_yourself()">check_isdebate_yourself</button>
	<br>
	<button onclick = "get_own_role_array()">get_own_role_array</button>
	<br>
	<button onclick = "update_game_status()">update_game_status</button>


</body>
</html>
